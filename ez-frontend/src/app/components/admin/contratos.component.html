<div class="contratos-container">
  <div class="contratos-header">
    <h1>GestiÃ³n de Contratos</h1>
    <button class="btn-primary" (click)="crearContrato()">+ Nuevo Contrato</button>
  </div>

  <!-- Filtros -->
  <div class="filters-section">
    <div class="filter-group">
      <label>Buscar</label>
      <input type="text" placeholder="NÃºmero o cliente..." [(ngModel)]="searchTerm" class="search-input" />
    </div>

    <div class="filter-group">
      <label>Estado</label>
      <select [(ngModel)]="filtroEstado" class="select-input">
        <option value="">Todos</option>
        <option *ngFor="let estado of estados" [value]="estado">{{ estado | titlecase }}</option>
      </select>
    </div>
  </div>

  <!-- Tabla de Contratos -->
  <div class="table-section">
    <table class="contratos-table">
      <thead>
        <tr>
          <th>NÃºmero</th>
          <th>Cliente</th>
          <th>Monto</th>
          <th>Estado</th>
          <th>Fecha Inicio</th>
          <th>Fecha Fin</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let contrato of contratosFiltrados" [ngClass]="'estado-' + contrato.estado">
          <td><strong>{{ contrato.numero }}</strong></td>
          <td>{{ contrato.cliente }}</td>
          <td>${{ contrato.monto | number }}</td>
          <td><span class="status-badge" [ngClass]="contrato.estado">{{ contrato.estado | titlecase }}</span></td>
          <td>{{ contrato.fechaInicio }}</td>
          <td>{{ contrato.fechaFin }}</td>
          <td class="actions">
            <button class="btn-view" (click)="descargarPDF(contrato.id)" title="Descargar PDF">ğŸ“„</button>
            <button class="btn-edit" (click)="editarContrato(contrato)" title="Editar">âœï¸</button>
            <button class="btn-delete" (click)="eliminarContrato(contrato.id)" title="Eliminar">ğŸ—‘ï¸</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="contratosFiltrados.length === 0" class="no-results">
      <p>No se encontraron contratos</p>
    </div>
  </div>
</div>

